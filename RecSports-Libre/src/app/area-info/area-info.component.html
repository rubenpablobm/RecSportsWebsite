<!-- Descripcion de area-info.component.html: programa que define la estructura del componente "area-info".
Su proposito es mostrar la informacion detallada de la area seleccionada.
Porpiedad del equipo WellSoft.
Ultima edicion por: Arturo Garza Campuzano.
Fecha de creacion: 05/05/2023
Fecha de modificacion: 15/06/2023 -->

<!-- Seccion de navegacion -->
<app-navbar></app-navbar>
<!-- Overlay de confirmacion -->
<div *ngIf="mostrarOverlay" class="overlay"></div>
<!-- Seccion app-header con las propiedades enlazadas "linkFoto" y "descripcion" -->
<app-header
  [linkFoto]="area.Foto"
  [descripcion]="'Conoce más detalles del area'"
></app-header>
<!-- Contenedor principal -->
<div class="flex-col area-info-container p-3">
  <div class="row" style="width: 100%">
    <div
      class="flex-container"
      style="width: 100%; justify-content: space-between"
    >
      <div class="col-auto">
        <!-- Boton de regresar -->
        <button
          class="btn btn-secondary my-2"
          routerLink="/{{ area.IdEdificio }}"
        >
          Regresar
        </button>
      </div>
      <div class="col-auto">
        <div class="d-flex justify-content-end w-100">
          <!-- Editar área button -->
          <button
            id="editar"
            type="button"
            class="btn btn-warning m-2"
            *ngIf="auth"
            [routerLink]="['/editar-area/editar/', area.IdArea]"
          >
            <i class="bi bi-pencil-fill"></i>
          </button>
          <!-- Eliminar área button -->
          <button
            id="borrar"
            type="button"
            *ngIf="auth"
            class="btn btn-danger text-black m-2"
            (click)="borrarRegistro(area.IdArea, area.Nombre)"
          >
            <i class="bi bi-trash-fill"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Titulo del área -->
  <h1 class="fw-bold" id="nombreArea">{{ area.Nombre }}</h1>
  <!-- Edificio >  Agregar nombres de edificios y areas -->
  <!-- Alerta de area -->
  <div
    id="avisosArea"
    class="area-alert alert alert-warning py-3 px-2 mb-2"
    role="alert"
    *ngIf="area.Avisos != null"
  >
    <h3 class="fw-bold">Aviso</h3>
    {{ area.Avisos }}
  </div>
  <!-- Horarios -->
  <h3 class="fw-bold mt-2 mb-0">Horarios</h3>
  <div [innerHTML]="horarios" id="horariosArea">
    <!-- Horarios se muestran aqui -->
  </div>
  <!-- Descripción -->
  <h3 class="fw-bold mt-2 mb-0">Descripción</h3>
  <div [innerHTML]="descripcion" id="descripcionArea">
    <!-- Descripcion del area se muestra aqui -->
  </div>
  <!-- Croquis -->
  <div *ngIf="area.Croquis !== null">
    <h3 class="fw-bold mt-2 mb-0">Croquis</h3>
    <img class="croquis" src="{{ area.Croquis }}" alt="Croquis del lugar" />
  </div>
  <!-- Enlace de calendario -->
  <div
    *ngIf="area.Tipo !== 'Aforo'"
    class="flex-container"
    style="flex-direction: column"
  >
    <h3 class="fw-bold mt-2 mb-0" id="reservacionArea">Aparta tu lugar</h3>
    <iframe class="embedido" [src]="secureLinkCalendar"></iframe>
  </div>
  <!-- Boton de registro manual -->
  <ng-container *ngIf="area.Tipo === 'Aforo' && auth">
    <button
      class="btn btn-secondary m-2"
      [routerLink]="['/area-info', area.IdArea, 'acceso']"
    >
      Registro manual
    </button>
    <button class="btn btn-warning m-2" (click)="limpiarAforo()">
      Limpiar Aforo
    </button>
  </ng-container>
</div>
